# NewPIDPLOT 面板

NewPIDPLOT是一个专门用于PID控制曲线绘制的面板，基于现有的Plot面板架构，提供了针对PID控制系统的优化功能。

## 功能特性

### 🎯 PID控制曲线绘制
- **实时数据绘制**：支持设定值、反馈值、输出值的实时曲线绘制
- **无限X轴扩展**：X轴从配置的起始时间开始，可以无限向右扩展，不受时间限制
- **固定Y轴范围**：Y轴范围可配置，默认为-16到16
- **参考线显示**：显示y=0水平参考线，便于观察数据变化

### 🎨 可视化配置
- **多颜色支持**：每条曲线使用不同颜色区分
- **线段绘制**：支持显示线段连接数据点
- **图例显示**：可配置的图例显示位置和内容
- **坐标轴标签**：可控制X轴和Y轴标签的显示

### ⚙️ PID参数控制
- **实时参数调整**：通过滑块和精确输入调整PID参数
- **ROS集成**：支持从ROS读取和写入PID参数
- **参数同步**：实时显示当前参数值和对应的ROS路径

## 配置说明

### 基本配置
```json
{
  "minXValue": 0,        // X轴起始值，不设置maxXValue则无限扩展
  "minYValue": -16,      // Y轴最小值
  "maxYValue": 16,       // Y轴最大值
  "showLegend": true,    // 显示图例
  "showParameterPanel": true  // 显示参数控制面板
}
```

### PID路径配置
```json
{
  "paths": [
    {
      "value": "/robot/pid/setpoint",  // ROS话题路径
      "enabled": true,                 // 是否启用
      "label": "设定值",               // 显示标签
      "color": "#ff0000",              // 曲线颜色
      "showLine": true,                // 显示线段
      "lineSize": 2                    // 线宽
    }
  ]
}
```

## 使用方法

1. **添加面板**：在Lichtblick中添加NewPIDPLOT面板
2. **配置路径**：添加PID相关的ROS话题路径
3. **设置范围**：配置Y轴的显示范围（X轴自动无限扩展）
4. **调整参数**：使用右侧参数面板调整PID参数
5. **查看曲线**：面板会显示设定值、反馈值、输出值的实时曲线

## 技术特性

- **基于Plot架构**：继承Plot面板的所有核心功能
- **时间序列支持**：使用时间戳作为X轴，支持实时数据流
- **Web Worker优化**：使用Web Worker处理数据，保持界面响应性
- **类型安全**：完整的TypeScript类型定义

## 示例配置

参考 `example-config.json` 文件获取完整的配置示例。
